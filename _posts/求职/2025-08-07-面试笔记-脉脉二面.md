---
layout: post
title:  "面试复盘之脉脉二面"
date:   2025-08-07 22:47:14 +0800
categories: 工作 求职
---
## 面试复盘之脉脉二面

### 1. 对于一个output.log文件，其中的错误信息是这样的格式：error：xxxxxx xxx，使用linux命令对该文件统计不同的error信息出现的次数

使用Linux命令组合：

```shell
grep -oP 'error：\K.*' output.log | sort | uniq -c | sort -nr
```

**步骤解析**：

1. `grep -oP 'error：\K.*'`：提取"error："后的完整错误信息（`-o`仅输出匹配部分，`-P`启用Perl正则，`\K`丢弃匹配前缀）
2. `sort`：排序文本（uniq前置条件）
3. `uniq -c`：统计重复行次数
4. `sort -nr`：按次数降序排序

### 2. 有一个log表，存在三个字段，id/user_id/visit_time，请统计最近三十天的UV

```sql
SELECT COUNT(DISTINCT user_id) AS uv
FROM log
WHERE visit_time >= CURRENT_DATE - INTERVAL '30 days' 
  AND visit_time < CURRENT_DATE + INTERVAL '1 day';
```

**关键点**：

1. 时间范围：`CURRENT_DATE - INTERVAL '30 days'` 到 `CURRENT_DATE + INTERVAL '1 day'`（确保包含今天）
2. 去重统计：`COUNT(DISTINCT user_id)`
3. 索引优化：建议在visit_time和user_id上建立复合索引

### 3. 白盒测试和黑盒测试的区别

| **维度**     | **白盒测试**           | **黑盒测试**               |
| ------------------ | ---------------------------- | -------------------------------- |
| **测试对象** | 代码内部逻辑                 | 系统外部功能                     |
| **可见性**   | 代码可见（透明盒子）         | 代码不可见（封闭盒子）           |
| **测试依据** | 程序逻辑、路径覆盖           | 需求规格说明书                   |
| **测试方法** | 语句覆盖、分支覆盖、路径覆盖 | 等价类划分、边界值分析、场景测试 |
| **测试人员** | 通常由开发人员执行           | 通常由测试工程师执行             |
| **优势**     | 发现深层代码逻辑错误         | 模拟真实用户场景                 |
| **局限**     | 无法验证需求符合性           | 无法覆盖隐藏代码路径             |
| **典型工具** | JaCoCo、JUnit                | Selenium、Postman                |

### 4. 如何设计测试用例

#### **核心设计原则**

1. **需求覆盖**：100%覆盖需求文档
2. **边界覆盖**：重点关注有效/无效边界值
3. **异常覆盖**：模拟网络中断、数据异常等场景
4. **用户场景覆盖**：真实用户使用路径

#### **设计方法**

1. **等价类划分**（输入框示例）
   - 有效等价类：0-100之间的整数
   - 无效等价类：负数、>100的数、非整数
2. **边界值分析**（年龄输入框）
   - 临界值：-1, 0, 1, 99, 100, 101
